export const wxRequest = (options) => {
    return new Promise((resolve, reject) => {
        const { url } = options;
        if (!url) {
            reject({
                errMsg: '未定义 url'
            });
        }
        const realUrl = url.startsWith("http") ? url : getApp().globalData.baseUrl + url;
        wx.request({
            header: { 'Content-Type': 'application/json' },
            ...options,
            url: realUrl,
            success: function (res) {
                resolve(res);
            },
            fail: function (res) {
                reject(res);
            }
        });
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsT0FBWSxFQUFFLEVBQUU7SUFDeEMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQWlELEVBQUUsTUFBNkMsRUFBRSxFQUFFO1FBQ3RILE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNSLE1BQU0sQ0FBQztnQkFDTCxNQUFNLEVBQUUsU0FBUzthQUNsQixDQUFDLENBQUE7U0FDSDtRQUNELE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFhLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDNUYsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNULE1BQU0sRUFBRSxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBRTtZQUM5QyxHQUFHLE9BQU87WUFDVixHQUFHLEVBQUUsT0FBTztZQUNaLE9BQU8sRUFBRSxVQUFVLEdBQUc7Z0JBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNmLENBQUM7WUFDRCxJQUFJLEVBQUUsVUFBVSxHQUFHO2dCQUNqQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgd3hSZXF1ZXN0ID0gKG9wdGlvbnM6IGFueSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmU6IFdlY2hhdE1pbmlwcm9ncmFtLlJlcXVlc3RTdWNjZXNzQ2FsbGJhY2ssIHJlamVjdDogV2VjaGF0TWluaXByb2dyYW0uUmVxdWVzdEZhaWxDYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IHsgdXJsIH0gPSBvcHRpb25zO1xuICAgIGlmICghdXJsKSB7XG4gICAgICByZWplY3Qoe1xuICAgICAgICBlcnJNc2c6ICfmnKrlrprkuYkgdXJsJ1xuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgcmVhbFVybCA9IHVybC5zdGFydHNXaXRoKFwiaHR0cFwiKSA/IHVybCA6IGdldEFwcDxCcG1PcHRpb24+KCkuZ2xvYmFsRGF0YS5iYXNlVXJsICsgdXJsO1xuICAgIHd4LnJlcXVlc3Qoe1xuICAgICAgaGVhZGVyOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB1cmw6IHJlYWxVcmwsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHJlamVjdChyZXMpO1xuICAgICAgfVxuICAgIH0pXG4gIH0pXG59Il19